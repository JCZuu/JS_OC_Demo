<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>标题</title>
<style type="text/css">
    .jsMethod{
        background-color:red;
        color:white;
    }
    button{
        height:50px;
        margin: 0;
        padding: 0;
        font-size:40px;
        outline: none;
        background-color:orange;
    }
</style>
</head>
<body>
<center>
<br><br>
<h1>
<div>
<p>JS与OC交互</p>
</div>
</h1>
<br><br>
<div>
    <button onclick="show()">
        方式一：JSExport
    </button>
</div>
<br><br>
<div>
    <h1><a href="myapp://url">方式二：拦截url</a></h1>
</div>
<br><br>
<div>
    <button onclick="show1()">
        方式三：Block
    </button>
</div>
<br><br>
<hr align=center color=#987cb9 SIZE=1>
<br><br>
    <button onclick="show2()">
        WKWebView调用本地方法
    </button>
<br><br>
<br><br>
<div class="jsMethod" id="test" color=white>
    <h1>测试文本</h1>
</div>

</center>
<script type="text/javascript">
    function show(){
        window.test1.showAlert('js调用oc本地方法');
    }
    function show1(){
        //test：调用id
        //showAlert1:oc本地方法名
       test('showAlert1');
    }
function show2(){
    //showAlert 方法名
    //postMessage 系统固定传参方法
    //括号里为参数列表：id类型
    //参数为空传null
    window.webkit.messageHandlers.showAlert.postMessage("WKWebView-oc弹窗");
}

//js调用方法
function changeBgColor(){
    var r = Math.floor(Math.random()*256);
    var g = Math.floor(Math.random()*256);
    var b = Math.floor(Math.random()*256);
    var color = '#'+r.toString(16)+g.toString(16)+b.toString(16);
    //showAlert 方法名
    //postMessage 系统固定传参方法
    //括号里为参数列表：id类型
    document.getElementById("test").style.backgroundColor = color;
}
</script>
</body>
</html>
